//>>built
define(["dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/SpatialReference","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(s,E,F,G,D,u,y,B){function v(a){var r=Math.PI/180,b=Math.sin(a.y*r),b=0.9933056200098026*(b/(1-0.006694379990197414*b*b)-6.111035746609262*Math.log((1-0.0818191908429643*b)/(1+0.0818191908429643*b)));return new u(6378137*a.x*r,3189068.5*b)}function x(a,r,b,d){var f=1/298.257223563,p=Math.sin(b);b=Math.cos(b);a=(1-f)*Math.tan(a);var k=
1/Math.sqrt(1+a*a),m=a*k,e=Math.atan2(a,b);a=k*p;for(var l=1-a*a,c=2.7233160610754688E11*l/4.040829998466145E13,t=1+c/16384*(4096+c*(-768+c*(320-175*c))),g=c/1024*(256+c*(-128+c*(74-47*c))),c=d/(6356752.31424518*t),w=2*Math.PI,h,n,q;1E-12<Math.abs(c-w);){q=Math.cos(2*e+c);h=Math.sin(c);n=Math.cos(c);var s=g*h*(q+g/4*(n*(-1+2*q*q)-g/6*q*(-3+4*h*h)*(-3+4*q*q))),w=c,c=d/(6356752.31424518*t)+s}d=m*h-k*n*b;d=Math.atan2(m*n+k*h*b,(1-f)*Math.sqrt(a*a+d*d));p=Math.atan2(h*p,k*n-m*h*b);b=f/16*l*(4+f*(4-3*
l));return new u((r+(p-(1-b)*f*a*(c+b*h*(q+b*n*(-1+2*q*q)))))/(Math.PI/180),d/(Math.PI/180),new D({wkid:4326}))}function z(a,r,b,d){var f=1/298.257223563,p=d-r,k=Math.atan((1-f)*Math.tan(a)),m=Math.atan((1-f)*Math.tan(b)),e=Math.sin(k),k=Math.cos(k),l=Math.sin(m),m=Math.cos(m),c=p,t,g=1E3,w,h,n,q,s;do{n=Math.sin(c);q=Math.cos(c);h=Math.sqrt(m*n*m*n+(k*l-e*m*q)*(k*l-e*m*q));if(0===h)return 0;q=e*l+k*m*q;s=Math.atan2(h,q);var u=k*m*n/h;w=1-u*u;n=q-2*e*l/w;isNaN(n)&&(n=0);var v=f/16*w*(4+f*(4-3*w));
t=c;c=p+(1-v)*f*u*(s+v*h*(n+v*q*(-1+2*n*n)))}while(1E-12<Math.abs(c-t)&&0<--g);if(0===g)return e=6371009*Math.acos(Math.sin(a)*Math.sin(b)+Math.cos(a)*Math.cos(b)*Math.cos(d-r)),l=d-r,k=Math.sin(l)*Math.cos(b),a=Math.cos(a)*Math.sin(b)-Math.sin(a)*Math.cos(b)*Math.cos(l),{azimuth:Math.atan2(k,a),geodesicDistance:e};a=2.7233160610754688E11*w/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));a=6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(s-b*h*(n+b/4*(q*(-1+2*n*n)-b/6*n*(-3+4*
h*h)*(-3+4*n*n))));b=Math.atan2(m*Math.sin(c),k*l-e*m*Math.cos(c));e=Math.atan2(k*Math.sin(c),k*l*Math.cos(c)-e*m);return{azimuth:b,geodesicDistance:a,reverseAzimuth:e}}function C(a,r){var b=Math.PI/180;637.100877151506>r&&(r=637.100877151506);if(!(a instanceof y||a instanceof B))throw console.error("_geodesicDensify: the input geometry is neither polyline nor polygon"),Error("_geodesicDensify: the input geometry is neither polyline nor polygon");var d=a instanceof y,f=[],p;s.forEach(d?a.paths:a.rings,
function(a){f.push(p=[]);p.push([a[0][0],a[0][1]]);var m,e,l,c,t,g;m=a[0][0]*b;e=a[0][1]*b;for(t=0;t<a.length-1;t++){l=a[t+1][0]*b;c=a[t+1][1]*b;c=z(e,m,c,l);l=c.azimuth;c=c.geodesicDistance;var d=c/r;if(1<d){for(g=1;g<=d-1;g++){var h=x(e,m,l,g*r);p.push([h.x,h.y])}g=x(e,m,l,(c+Math.floor(d-1)*r)/2);p.push([g.x,g.y])}e=x(e,m,l,c);p.push([e.x,e.y]);m=e.x*b;e=e.y*b}});return d?new y({paths:f,spatialReference:a.spatialReference}):new B({rings:f,spatialReference:a.spatialReference})}var A={esriMiles:1,
esriKilometers:1.609344,esriFeet:5280,esriMeters:1609.34,esriYards:1760,esriNauticalMiles:0.869,esriCentimeters:160934,esriDecimeters:16093.4,esriInches:63360,esriMillimeters:1609340,esriAcres:1,esriAres:40.4685642,esriSquareKilometers:0.00404685642,esriSquareMiles:0.0015625,esriSquareFeet:43560,esriSquareMeters:4046.85642,esriHectares:0.404685642,esriSquareYards:4840,esriSquareInches:6272640,esriSquareMillimeters:4046856420,esriSquareCentimeters:4.04685642E7,esriSquareDecimeters:404685.642};return{geodesicDensify:C,
geodesicLengths:function(a,r){var b=Math.PI/180,d=[];s.forEach(a,function(a,p){var k=0;s.forEach(a.paths,function(a,e){var l=0,c,d,g,f,h;for(c=1;c<a.length;c++)d=a[c-1][0]*b,g=a[c][0]*b,f=a[c-1][1]*b,h=a[c][1]*b,f===h&&d===g||(d=z(f,d,h,g),l+=d.geodesicDistance/1609.344);k+=l});k*=A[r];d.push(k)});return d},geodesicAreas:function(a,r){var b=[];s.forEach(a,function(a,d){var e=C(a,1E4);b.push(e)});var d=[],f,p;s.forEach(b,function(a,b){var e=0;s.forEach(a.rings,function(a,b){f=v(new u(a[0][0],a[0][1]));
p=v(new u(a[a.length-1][0],a[a.length-1][1]));var d=p.x*f.y-f.x*p.y,g;for(g=0;g<a.length-1;g++)f=v(new u(a[g+1][0],a[g+1][1])),p=v(new u(a[g][0],a[g][1])),d+=p.x*f.y-f.x*p.y;e+=d/4046.87});e*=A[r];d.push(e/-2)});return d},_unitsDictionary:A,_toEqualAreaPoint:v,_directGeodeticSolver:x,_inverseGeodeticSolver:z}});