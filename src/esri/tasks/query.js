//>>built
define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/has","esri/kernel","esri/geometry/jsonUtils","esri/tasks/SpatialRelationship","require","require","require"],function(n,p,q,c,t,u,r,s){var d=n(null,{declaredClass:"esri.tasks.Query",constructor:function(){this.spatialRelationship=d.SPATIAL_REL_INTERSECTS},text:null,where:"",geometry:null,groupByFieldsForStatistics:null,objectIds:null,returnGeometry:!1,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,
timeExtent:null,relationParam:null,pixelSize:null,toJson:function(a){var b={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision};a=a&&a.geometry||this.geometry;var f=this.objectIds,g=this.outFields,e=this.outSpatialReference,h=this.groupByFieldsForStatistics,k=this.orderByFields,l=this.outStatistics;a&&(b.geometry=a,b.geometryType=r.getJsonType(a),b.inSR=a.spatialReference.wkid||
c.toJson(a.spatialReference.toJson()));f&&(b.objectIds=f.join(","));g&&(b.outFields=g.join(","));h&&(b.groupByFieldsForStatistics=h.join(","));k&&(b.orderByFields=k.join(","));if(l){var m=[];q.forEach(l,function(a,b){m.push(a.toJson())});b.outStatistics=c.toJson(m)}null!==e?b.outSR=e.wkid||c.toJson(e.toJson()):a&&(b.outSR=a.spatialReference.wkid||c.toJson(a.spatialReference.toJson()));a=this.timeExtent;b.time=a?a.toJson().join(","):null;if((a=this.relationParam)&&this.spatialRelationship===d.SPATIAL_REL_RELATION)b.relationParam=
a;b.pixelSize=this.pixelSize?c.toJson(this.pixelSize.toJson()):null;b._ts=this._ts;return b}});p.mixin(d,s);return d});